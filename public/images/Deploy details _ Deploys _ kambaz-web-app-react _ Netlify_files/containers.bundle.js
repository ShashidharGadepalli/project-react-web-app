"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7267],{949:(e,t,n)=>{n.d(t,{A:()=>O});var r,o=n(36870),i=n(43536),a=n(86326),u=n(82432),c=n(17250),l=n(78028),s=n(59868),f=n(53181),p=n(65900),d=n(43917),g=n(3960),y=n(4140),b=n(94958);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){v(e,t,n[t])})}return e}function h(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}var w=(v(r={},y.zG.github_enterprise,!0),v(r,y.zG.gitlab_self_hosted,!0),v(r,y.zG.bitbucket_self_hosted,!0),r);let O=(0,u.Ng)(function(e,t){var n=(0,g.MC)(t),r=n.organization,o=n.name,i=t.repoFromURL,a=n.repo||t.repo,u=r||"",d=u?"".concat(u,"/").concat(a):a,y=(0,l.o7)(e),b=(0,p.Gd)(e,o),v=b?void 0:(0,c.N8)(e),m=decodeURIComponent(d),h=(0,s.pV)(e),w=(0,s.ZD)(e),O=(0,s.DI)(e);return{repo:(null==i?void 0:i.mergeDeep((0,f.bD)(e,m)))||(0,f.bD)(e,m),provider:(0,l.oL)(e),gitUser:(0,l.a)(e),site:b,accounts:v,availablePlugins:h,availablePluginsError:w,availablePluginsFetching:O,user:e.user,gitAccessToken:y}},function(e,t){var n=t.site,r=t.provider,o=t.onError,a=t.onSubmit;return{onLoadPlugins:function(){return e((0,s.ND)())},onPrepareRepo:function(t){var n;return null==(n=e((0,f.Uy)(t)))?void 0:n.then(function(){e((0,f.W0)(t))})},loadMoreBranches:function(t,n){return e((0,f.wh)(t,n))},onApplyHeuristics:function(t,n,o){t&&e((0,f.oY)(t,n,h(m({},o),{provider:r})))},onAnalyzeRepoAppAccessForVisualEditing:function(t){var n=t.repoName,r=t.repoUrl,o=t.branch,i=t.runnableDir;return e((0,f.aU)({repoName:n,repoUrl:r,branch:o,runnableDir:i}))},onAnalyzeRepoContentForVisualEditing:function(t){var n=t.repoName,r=t.repoUrl,o=t.branch,i=t.runnableDir,a=t.gitAccessToken;return e((0,f.V4)({repoName:n,repoUrl:r,branch:o,runnableDir:i,gitAccessToken:a}))},onSubmit:function(t,r){return a?a(t,r):e((0,p.pL)({site:n,repo:r,settings:t.toJS(),createdVia:"onboarding"})).then(function(e){var t=e.site,n=e.deploy;return b.N.push((0,i.JA)(t,{id:null==n?void 0:n.id}))}).catch(function(e){return o(e)})}}})(function(e){var t=e.repo,n=e.onPrepareRepo,r=e.onMissingData,i=e.onError,u=e.loadMoreBranches,c=e.site,l=e.accounts,s=e.onSubmit,f=e.onApplyHeuristics,p=e.provider,g=e.outset,b=e.nameKey,v=e.template,O=e.trackChangeClick,j=e.availablePlugins,P=e.availablePluginsError,S=e.availablePluginsFetching,x=e.form,A=void 0===x?d.A:x,E=e.onLoadPlugins,k=e.skipPrepare,N=void 0!==k&&k,D=e.gitUser,I=e.user,_=e.match,L=e.onAnalyzeRepoContentForVisualEditing,R=e.onAnalyzeRepoAppAccessForVisualEditing,T=e.gitAccessToken,C=e.saving,U=e.chosenAccountForDeploy,F=null==t?void 0:t.getIn(["branchPagination","next"]),M=null==t?void 0:t.get("error"),z=null==t?void 0:t.get("id");return(0,a.useEffect)(function(){S||P||(null==j?void 0:j.size)||E()},[j,P,S]),(0,a.useEffect)(function(){if(!t||!p)return void r("repo");N||n(t)},[z]),(0,a.useEffect)(function(){M&&(i(M),r("repo"))},[M]),(0,a.useEffect)(function(){p!==y.zG.bitbucket&&F&&u(t,F)},[p,F]),t?(0,o.jsx)(A,{site:c,account:U,accounts:l,repo:t,onSubmit:s,outset:g,onApplyHeuristics:f,accountSpecificGitProvider:w[p],provider:p,nameKey:b,template:v,trackChangeClick:O,availablePlugins:j,availablePluginsError:P,gitUser:D,user:I,match:_,onAnalyzeRepoAppAccessForVisualEditing:function(e){return R(m({},e,!p.includes("github")&&{gitAccessToken:T}))},onAnalyzeRepoContentForVisualEditing:function(e){return L(h(m({},e),{gitAccessToken:T}))},saving:C}):null})},1078:(e,t,n)=>{n.d(t,{A:()=>g});var r=n(24571),o=n(44110),i=n(67938),a=n.n(i),u=n(86326),c=n(82432),l=n(53372),s=n(24204),f=n(60666);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}let g=(0,c.Ng)(function(e){return{user:e.user,config:e.config,api:(0,l.x4)(e)}})(function(e){var t,i,c,g=(t=(0,u.useState)(null),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,u=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){u=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(u)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return p(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=g[0],b=g[1],v=function(e){b((0,o.Map)(e))},m=function(t){var r;return(r=function(){var r,o,i,u,c,s;return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(c){var l=[u,c];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,r=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}(this,function(f){switch(f.label){case 0:if(r=e.user,o=e.config,i=t.get("id"),!(u=(0,l.x4)({user:r,config:o})))return[2];return v({state:"downloading"}),[4,n.e(211).then(n.t.bind(n,62672,23))];case 1:return c=new(f.sent()).default,s=a()(8),u.listDeployFiles(i).then(function(e){return e.data.map(function(e){return s(function(){return u.downloadDeployFile(i,e.path)}).then(function(t){for(var n=c,r=e.path.replace(/^\//,"").split("/"),o=null;r.length;)o=r.shift(),r.length?n=n.folder(o):n.file(o,t)})})}).then(function(e){return Promise.all(e)}).then(function(){return c.generateAsync({type:"blob"})}).then(function(e){v({state:"ready",zip:e})}).catch(function(e){v({state:"error",error:e})}),[2]}})},function(){var e=this,t=arguments;return new Promise(function(n,o){var i=r.apply(e,t);function a(e){d(i,n,o,a,u,"next",e)}function u(e){d(i,n,o,a,u,"throw",e)}a(void 0)})})()},h=function(e,t){var n="deploy-".concat(e.get("id"),".zip"),o=t.get("zip");return(0,r.saveAs)(o,n)},w=e.component,O=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["component"]);return(0,u.createElement)(w||f.A,(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},O),c=c={download:y,onDeployAction:function(t,n,r){var o={publish:s.DU,delete:s.XV,lock:s.j$,unlock:s.aN,retry:s.AI,cancel:s.ol}[t];return e.dispatch(o(e.site,n,r))},onDownload:function(e,t){t&&t.get("zip")?h(e,t):m(e)}},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(c)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(c)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(c,e))}),i))})},2185:(e,t,n)=>{n.d(t,{NG:()=>l,SV:()=>f,Px:()=>g,tB:()=>v});var r=n(36870),o=n(86326),i=n(82432),a=n(60498),u=n(65900),c=n(93700);let l=(0,i.Ng)(function(e,t){var n=t.site;return{branches:(0,u.lp)(e,n),buildHooks:(0,a.HD)(e,n)}},function(e,t){var n=t.site;return{onLoad:function(){e((0,a.d0)(n)),e((0,u.Xz)(n))},onAdd:function(t){return e((0,a.LM)(n,t))},onRemove:function(t){return e((0,a.IF)(n,t))}}})(function(e){return(0,o.useEffect)(function(){e.onLoad()},[]),(0,r.jsx)(c.A,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e))});var s=n(99862);let f=(0,i.Ng)(function(e,t){var n=t.site;return{deployKey:(0,u.C0)(e,n)}},function(e,t){t.state;var n=t.site;return{onLoad:function(){var t=n.get("build_settings").get("deploy_key_id");t&&e((0,u.d0)(t,n))},onAdd:function(){return e((0,u.uU)())}}})(function(e){return(0,r.jsx)(s.A,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e))});var p=n(76798),d=n(91744);let g=(0,i.Ng)(function(e,t){var n=t.site;return{branches:(0,u.lp)(e,n),devServerHooks:(0,p.v5)(e,n)}},function(e,t){var n=t.site;return{onLoad:function(){e((0,p.Jc)(n)),e((0,u.Xz)(n))},onAdd:function(t){return e((0,p.Rx)(n,t))},onRemove:function(t){return e((0,p.gh)(n,t))}}})(function(e){return(0,o.useEffect)(function(){e.onLoad()},[]),(0,r.jsx)(d.A,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e))});var y=n(23271);function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}let v=(0,i.Ng)(function(e,t){return{}},function(e,t){var n=t.site;return{onLoad:function(){n.get("snippets")||e((0,u.lL)(n))},onAdd:function(t){return e((0,u.nD)(n,t))},onRemove:function(t){return e((0,u.Cz)(n,t))}}})(function(e){return(0,o.useEffect)(function(){e.onLoad(e.site)},[]),e.children?(0,o.cloneElement)(e.children,b({},e)):(0,r.jsx)(y.A,b({},e))})},3800:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(86326),o=n(97767),i=n(65900),a=n(17718),u=n(8345),c=n(3960);function l(e){return{page:e.page,perPage:e.perPage,filter:e.filter,from:e.from,to:e.to,state:e.status}}let s=(0,a.O)(function(e,t){var n=(0,c.Zq)(t.location.search),r=t.site;return{devServers:(0,o.wT)(e,r,n)}},function(e){return(0,o.U3)(e.site.get("id"),l(e))},"page","perPage","filter","from","to","status")(function(e){var t=e.poll,n=e.dispatch,a=e.site,c=e.page,s=e.perPage,f=e.filter,p=e.from,d=e.to,g=e.status,y=e.component,b=e.children,v=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["component","children"]),m=(0,r.useRef)(null);return(0,r.useEffect)(function(){if(m.current&&clearInterval(m.current),t)return m.current=setInterval(function(){n((0,o.U3)(a.get("id"),l({page:c,perPage:s,filter:f,from:p,to:d,status:g}))),n((0,i.UK)(a.get("name")))},(0,u.B)()),function(){clearInterval(m.current)}},[c,s,f,t,p,d]),y?(0,r.createElement)(y,v,b):(0,r.cloneElement)(b,v)})},7687:(e,t,n)=>{n.d(t,{qz:()=>a,vB:()=>r});var r=function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=[/Failed during stage/i,/Failing build/i,/Build exited unexpectedly/i,/Build exceeded (maximum allowed runtime|memory limits)/i,/The function "[^"]+" is larger than the \d+\w{2} limit/i,/Unzipped size must be smaller than/i,/Uploaded file must be a non-empty zip/i,/Your environment variables contain reserved keys/i,/Your environment variables exceed the \d+KB limit imposed by AWS Lambda./i,/Deploy did not succeed:/i][Symbol.iterator]();!(t=(o=i.next()).done);t=!0)if(o.value.test(e))return"fail"}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}},o=["error","failed","fatal","exception","uncaught","unhandled","abort","crash","killed","interrupt","panic","throw","⚠️"],i=function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=o[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var u=i.value;if(e.toLowerCase().includes(u))return!0}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return!1},a=function(e){var t=[],n=e.count(),r=-1;return e.forEach(function(o,a){if(o&&(a||0===a)&&i(o.log)){for(var u=Math.max(r+1,a-10),c=Math.min(n,a+11),l=u;l<c;l++){var s=e.get(l);t.push({log:s.log.slice(0,128),line:l})}r=c-1}}),t}},8286:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(36870),o=n(86326),i=n(82432),a=n(17250),u=n(56020),c=n(24204),l=n(5576),s=n(65900),f=n(53189),p=function(e){return Math.floor(new Date().getTime()/1e3)-86400*e};let d=(0,i.Ng)(function(e,t){var n=t.site;return t.account,{pageviews:(0,u.cx)(e,n),uniqueVisitors:(0,u.$Z)(e,n),topLocations:(0,u.cL)(e,n),topSources:(0,u.gI)(e,n),topPages:(0,u.s$)(e,n),bandwidthUsed:(0,u.LY)(e,n),notFound:(0,u.yZ)(e,n),summary:(0,u.Jj)(e,n),realUserMetrics:{enabled:n.get("rum_enabled")||!1,filterSelected:(0,l.jd)(),FCP:(0,l.rs)(e,n,"FCP"),LCP:(0,l.rs)(e,n,"LCP"),FID:(0,l.rs)(e,n,"FID"),INP:(0,l.rs)(e,n,"INP"),CLS:(0,l.rs)(e,n,"CLS")},filterSelected:(0,u.vB)(e)}},function(e,t){var n=t.account,r=t.site,o=t.hasCharts;return t.apiVersion,{onEnable:function(t){return e((0,u.gQ)(t))},onEnableRUM:function(t){return e((0,s.hj)(t,{rum_enabled:!0})).then(function(){e((0,l.R9)(t,"FCP")),e((0,l.R9)(t,"LCP")),e((0,l.R9)(t,"FID")),e((0,l.R9)(t,"INP")),e((0,l.R9)(t,"CLS"))})},onDisableRUM:function(t){return e((0,s.hj)(t,{rum_enabled:!1}))},onLoad:function(){o&&r.get("analytics_instance_id")&&e((0,u.GY)(r,n)),o&&r.get("rum_enabled")&&(e((0,l.R9)(r,"FCP")),e((0,l.R9)(r,"LCP")),e((0,l.R9)(r,"FID")),e((0,l.R9)(r,"INP")),e((0,l.R9)(r,"CLS")),e((0,c.C5)(r,{filter:r.getIn(["build_settings","repo_branch"]),state:"ready",from:p(7)})))},onUpdateFilter:function(t,n){var r=n.resolution,o=n.days,i=n.minusOffsetDays;e((0,u.lv)(o)),e((0,u.qy)(t,{resolution:r,days:o,minusOffsetDays:i})),e((0,u.ZO)(t,{resolution:r,days:o,minusOffsetDays:i})),e((0,u.B7)(t,{resolution:r,days:o,minusOffsetDays:i})),e((0,u.cT)(t,{resolution:r,days:o,minusOffsetDays:i})),e((0,u.kU)(t,{resolution:r,days:o,minusOffsetDays:i})),e((0,u.sY)(t,{resolution:r,days:o,minusOffsetDays:i})),e((0,u.U9)(t,{resolution:r,days:o,minusOffsetDays:i}))},onUpdateRUMFilter:function(t,n,r){n.resolution;var o=n.days;n.minusOffsetDays,e((0,l.R9)(t,"FCP",{resolution:"hour",days:o},r)),e((0,l.R9)(t,"FID",{resolution:"hour",days:o},r)),e((0,l.R9)(t,"LCP",{resolution:"hour",days:o},r)),e((0,l.R9)(t,"INP",{resolution:"hour",days:o},r)),e((0,l.R9)(t,"CLS",{resolution:"hour",days:o},r)),e((0,c.C5)(t,{filter:t.getIn(["build_settings","repo_branch"]),state:"ready",from:p(o)}))},onDelete:function(t){return e((0,u.Y2)(t))},onUpdate:function(t,n){return e((0,a.z0)(t,n))}}})(function(e){var t=(0,f.ZT)().setIsLoadingApp,n=e.site,i=e.Component,a=n.get("analytics_instance_id");return(0,o.useEffect)(function(){e.onLoad(e),t(!1)},[a,t]),(0,r.jsx)(i,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e))})},8409:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(36870),o=n(82432),i=n(65900),a=n(2906);let u=(0,o.Ng)(function(e,t){return{dragging:e.dragging&&e.dragging.get("active"),uploading:!!e.uploadState}})(function(e){var t=e.dragging,n=e.uploading,o=e.intro,u=e.site,c=e.accountSlug,l=e.dispatch,s=e.trackEvent,f=e.scrollIntoView,p=e.createdVia,d=void 0===p?"":p;return(0,r.jsx)(a.A,{scrollIntoView:void 0===f||f,onUpload:function(e){return s&&s(),(u?function(){return Promise.resolve(u)}:function(){return l((0,i.kT)(c,d))})().then(function(t){return l((0,i.LN)(t,e))})},dragging:t,uploading:n,intro:o})})},8638:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(36870),o=n(58721),i=n(86326),a=n(82432),u=n(18074),c=n(11494);let l=(0,a.Ng)(function(e,t){var n=t.site;return{services:(0,u.Zo)(e,n)}},function(e){return{onLoad:function(t){var n=t.site,r=t.account;(0,o.EK)(r.get("type_slug"))||e((0,u.rZ)(n))}}})(function(e){return(0,i.useEffect)(function(){e.onLoad(e)},[]),(0,r.jsx)(c.A,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e))})},8793:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(86326),o=n(82432),i=n(65900),a=n(72412),u=n(91710);let c=(0,o.Ng)(function(e,t){var n=t.site;return{branches:(0,i.lp)(e,n),splits:(0,a.Rd)(e,n)}},function(e){return{onLoad:function(t){e((0,a.r)(t)),e((0,i.Xz)(t))},onCreate:function(t,n){return e((0,a.i$)(t,n))},onUpdate:function(t,n,r){return e((0,a.Tg)(t,n,r))},onStart:function(t,n){return e((0,a.En)(t,n))},onStop:function(t,n){return e((0,a.mf)(t,n))},onUpdateSite:function(t,n){return e((0,i.hj)(t,n))}}})(function(e){var t=e.component,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["component"]),o=n.onLoad,i=n.site;return(0,r.useEffect)(function(){o(i)},[]),(0,r.createElement)(t||u.A,n)})},18466:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(86326),o=n(70120),i=n(17718),a=n(3960);function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function c(e){var t;return(0,a.Zq)(null==(t=e.location)?void 0:t.search)}let l=(0,i.O)(function(e,t){var n,r,i=t.site,a=c(u(t,["site"])),l=(0,o.fr)(e,i,a);return n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},a),r=r={provisioned:!!i.get("identity_instance_id"),users:l,pagination:(0,o.XD)(e,i,a)},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n},function(e){var t=e.site,n=u(e,["site"]);return(0,o.Lx)(t,c(n))},"provisioned","page","per_page","sort","filter")(function(e){var t=e.component,n=e.children,o=u(e,["component","children"]);return t?(0,r.createElement)(t,o,n):(0,r.cloneElement)(n,o)})},22270:(e,t,n)=>{n.d(t,{A:()=>f});var r=n(86326),o=n(53372),i=n(43963),a=n(5595);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function l(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function s(e){var t=e.page,n=e.perPage;return{page:void 0===t?1:t,perPage:void 0===n?20:n,formId:e.formId,filter:e.filter}}let f=(0,n(17718).O)(function(e,t){var n,r=t.site,a=s(t);return l(c({},a),{form:(0,i.LC)(e,a.formId),forms:(0,i.OM)(e,r),submissions:(0,i.yK)(e,r,a),submissionsError:(0,i.mb)(e,r,a),pagination:(0,i.Ko)(e,r,a),api:{formSubmissions:function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return(n=(0,o.x4)(e)).formSubmissions.apply(n,function(e){if(Array.isArray(e))return u(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return u(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}}})},function(e){return(0,i.Yd)(e.site,s(e))},"page","perPage","formId","filter")(function(e){var t=e.children,n=e.component,o=void 0===n?a.A:n,u=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["children","component"]);return u.onDelete=function(e,t,n){return u.dispatch((0,i.nv)(e,t,n))},u.onMarkAsSpam=function(e,t){return u.dispatch((0,i.Xx)(e,t,l(c({},s(u)),{page:1})))},u.onMarkAsHam=function(e,t){return u.dispatch((0,i.Sp)(e,t,l(c({},s(u)),{page:1})))},t?(0,r.cloneElement)(t,u):(0,r.createElement)(o,u,t)})},29005:(e,t,n)=>{n.d(t,{A:()=>w});var r=n(36870),o=n(44110),i=n(86326),a=n(82432),u=n(24204),c=n(97767),l=n(18879),s=n(60510),f=n(56832),p=n(61371),d=n(27578),g=n(12707);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,u=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(u)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){return{log:"new"===e.get("state")?"Queueing Preview Server":"There is no log for this Preview Server",ts:new Date().toString()}}function m(e){return e&&"error"===e.get("state")}function h(e){var t=(0,s.Sw)(e),n=e.log||e.msg||"",r=/(Failed during stage 'building site': Build script returned non-zero|Command failed with) exit code:? ([\d]+)/i;if(n.match(r)){var o=b(n.match(r),3)[2];return"".concat(t," (https://ntl.fyi/exit-code-").concat(o,")")}return t}let w=(0,a.Ng)(function(e,t){var n=t.devServer,r=t.site;return{devServer:t.overview?(0,c.bw)(e,r):n}})(function(e){var t=e.devServer,n=e.overview,a=e.onLoadDeployPluginRuns,c=b((0,i.useState)(!0),2),y=c[0],w=c[1],O=b((0,i.useState)(null),2),j=O[0],P=O[1],S=b((0,i.useState)(""),2),x=S[0],A=S[1],E=b((0,i.useState)({term:""}),2),k=E[0],N=E[1],D=(0,i.useRef)(!1),I=(0,i.useRef)(null),_=(0,i.useRef)(null),L=(0,i.useRef)(null),R=(0,i.useRef)(null),T=(0,i.useRef)(null),C=null==t?void 0:t.get("id"),U=!!t&&m(t),F=(0,d.wA)();(0,i.useEffect)(function(){w(!t||t&&"done"===t.get("state")||m(t))},[t]),(0,i.useEffect)(function(){if(C&&!n)return B(t),function(){D.current=!0,z()}},[C,n]);var M=function(e){if(e){var t={type:"socketeer",siteId:e.get("site_id"),devServerId:e.get("id"),resource:p.A.DEV_SERVER};if(I.current=(0,f.y)(t),!I.current)return V(v(e));I.current.listen(G,H),_.current=setInterval(q,1e3)}},z=function(){_.current&&clearInterval(_.current),I.current&&I.current.close()},B=function(e){z(),M(e)},V=function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];!D.current&&(L.current=(L.current||(0,o.List)()).push(e),t&&q())},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v(t),n=e.log,r=e.ts||e.time;if(V(e,!1),/onSuccess complete/.test(n)||/In "onSuccess" event in "@netlify\/plugin-lighthouse"/.test(n))null==a||a(null==t?void 0:t.get("id"));else if(/^buildbot version: /.test(n))T.current=r;else if(/^Execution timed out after/.test(n)){var o=T.current;o&&r&&F((0,u.ye)(t,o,r))}else if(/Starting post processing/.test(n)){var i=T.current;i&&r&&F((0,u.ye)(t,i,r))}},H=function(e){V({log:"[ERROR] Preview Server logs are currently unavailable. We are working on resolving the issue.",ts:new Date}),z()},q=function(){var e;D.current||P(null!=(e=R.current)?e:L.current)},$=(0,i.useCallback)(function(e){if(N({term:e}),!e){R.current=null;return}var t=L.current||(0,o.List)(),n=e.trim().toLowerCase();R.current=t.filter(function(e){var t,r;return null!=(r=null==e||null==(t=e.log)?void 0:t.toLowerCase().includes(n))&&r}).toList(),q()},[]);return(0,r.jsx)(l.A,{log:j,fetching:!y&&!k.term,streaming:!y,filters:k,fixedHeight:!0,noWrap:!0,emptyLogMessage:k.term?"No results for ".concat(k.term):"Waiting for logs",title:"Preview Server log",formatLogEntry:U?h:s.Sw,formatForClipboard:s.Sw,search:(0,r.jsx)(g.A,{value:x,onReset:x?function(){A(""),$("")}:void 0,onSearch:function(){return $(x)},onChange:function(e){return A(e.target.value)}})})})},31702:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(36870),o=n(86326),i=n(82432),a=n(70120);let u=(0,i.Ng)(function(e,t){var n=t.site;return{identity:(0,a.RD)(e,n)}},function(e,t){var n=t.site;return{onLoad:function(){return e((0,a.HM)(n))},onCreate:function(){return e((0,a.DA)(n))},onUpdate:function(t){return e((0,a.go)(n,t))},onDelete:function(){return e((0,a.Ut)(n))}}})(function(e){return(0,o.useEffect)(function(){e.onLoad()},[]),(0,r.jsx)(r.Fragment,{children:o.Children.map(e.children,function(t){return(0,o.cloneElement)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e))})})})},33330:(e,t,n)=>{n.d(t,{A:()=>v});var r=n(36870),o=n(86326),i=n(17250),a=n(98379),u=n(65900),c=n(30040),l=n(98020),s=n(17718),f=n(47534),p=n(94958);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function y(e){var t,n,r=null==(t=c.QB.find(function(e){return null==e?void 0:e.default}))?void 0:t.value,o={visibility:e.visibility,creator:e.creator,sortBy:null!=(n=e.sortBy)?n:r,orderBy:e.orderBy},i={page:e.page,perPage:e.perPage||12,searchTerm:e.searchTerm,searchGlobally:e.searchGlobally,accountSlug:e.accountSlug,labelIds:e.labelIds,hasVisualEditor:e.hasVisualEditor};return e.ops_sort_and_filter_sites_ui?g({},i,o):i}var b=(0,s.O)(function(e,t){var n=y(t),r=(0,u.n)(e,n),o=(0,i.Mz)(e,n.accountSlug),c=(0,a.MU)(e,o);return{sites:r,pagination:(0,u.Nx)(e,n),loaded:!!r,user:e.user,account:o,accounts:(0,i.N8)(e),accountBuildStatus:c}},function(e){return(0,u.Zz)(y(e))},"page","perPage","searchTerm","searchGlobally","visibility","creator","sortBy","accountSlug","orderBy","ops_sort_and_filter_sites_ui","labelIds")(l.A);let v=function(e){var t,n,i,a=(0,f._)("ops_sort_and_filter_sites_ui"),u=(0,c.bB)(e.accountSlug).getApplicableListParams,l=(t=(0,o.useState)(!0),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,u=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){u=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(u)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return d(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=l[0],y=l[1],v=a?null==u?void 0:u():null,m=new URLSearchParams(window.location.search).toString();return((0,o.useEffect)(function(){if((m||!v)&&y(!1),!m&&v){var e=window.location.pathname,t="".concat(e,"?").concat(v);p.N.replace(t)}v===m&&y(!1)},[s,m,v]),s)?null:(0,r.jsx)(b,(n=g({},e),i=i={ops_sort_and_filter_sites_ui:a},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))}},34901:(e,t,n)=>{n.d(t,{A:()=>x});var r=n(36870),o=n(44110),i=n(86326),a=n(82432),u=n(53372),c=n(24204),l=n(9058),s=n(24543),f=n(60510),p=n(56832),d=n(61371),g=n(27578),y=n(7687);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function m(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,u=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(u)throw r}}return i}}(e,t)||w(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}}function O(e){return{log:"new"===e.get("state")?"Queueing build":"There is no log for this deploy",ts:new Date().toString()}}function j(e){return e&&"pending_review"===e.get("state")}function P(e){return e&&"error"===e.get("state")}function S(e){var t=(0,f.ob)(e),n=e.log||e.msg||"",r=/(Failed during stage 'building site': Build script returned non-zero|Command failed with) exit code:? ([\d]+)/i;if(n.match(r)){var o=h(n.match(r),3)[2];return"".concat(t," (https://ntl.fyi/exit-code-").concat(o,")")}return t}let x=(0,a.Ng)(function(e,t){var n,r=t.deploy,o=t.site;return{deploy:t.overview?(0,c.D7)(e,o):r,fetchLog:function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return(n=(0,u.x4)(e)).deployLog.apply(n,function(e){if(Array.isArray(e))return b(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||w(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}}})(function(e){var t=e.deploy,n=e.children,a=e.overview,u=e.onLoadDeployPluginRuns,b=h((0,i.useState)((0,s.Kh)(null==t?void 0:t.get("state"))),2),w=b[0],x=b[1],A=h((0,i.useState)(null),2),E=A[0],k=A[1],N=(0,i.useRef)(!1),D=(0,i.useRef)(null),I=(0,i.useRef)(null),_=(0,i.useRef)(null),L=(0,i.useRef)(null),R=null==t?void 0:t.get("id"),T=!!t&&j(t),C=!!t&&P(t),U=(0,g.wA)();(0,i.useEffect)(function(){(t&&"ready"===t.get("state")||P(t))&&x(!0)},[t]),(0,i.useEffect)(function(){if(R&&!a)return z(t),function(){N.current=!0,M()}},[R,T,a]);var F=function(e){if(e){if(e&&e.get("skipped"))return B({log:"Deploy skipped",ts:e.get("created_at")});if(e&&"rejected"===e.get("state"))return B({log:"Deploy request was rejected",ts:e.get("updated_at")});if(j(e))return B({log:"Deploy request is pending review",ts:e.get("created_at")});e&&e.get("skipped_log")&&B({log:"[WARNING] We are experiencing internal issues storing deploy logs. Some log lines may be missing.",ts:e.get("created_at")},!1);var t={type:"socketeer",siteId:e.get("site_id"),deployId:e.get("id"),resource:d.A.BUILD};if(D.current=(0,p.y)(t),!D.current)return B(O(e));D.current.listen(V,G),I.current=setInterval(H,1e3)}},M=function(){I.current&&clearInterval(I.current),D.current&&D.current.close()},z=function(e){M(),F(e)},B=function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];!N.current&&(_.current=(_.current||(0,o.List)()).push(e),t&&H())},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O(t),n=e.log,r=e.ts||e.time;if(e.section){var o=(0,y.vB)(n);B(v({},e,o&&{status:o}),!1)}else B(e,!1);if(/onSuccess complete/.test(n)||/In "onSuccess" event in "@netlify\/plugin-lighthouse"/.test(n))null==u||u(null==t?void 0:t.get("id"));else if(/^buildbot version: /.test(n))L.current=r;else if(/^Execution timed out after/.test(n)){var i=L.current;i&&r&&U((0,c.ye)(t,i,r))}else if(/Starting post processing/.test(n)){var a=L.current;a&&r&&U((0,c.ye)(t,a,r))}},G=function(e){B({log:"[ERROR] Deploy logs are currently unavailable. We are working on resolving the issue.",ts:new Date}),M()},H=function(){N.current||k(_.current)};return n?(0,i.cloneElement)(n,m(v({},e),{log:E})):(0,r.jsx)(l.A,m(v({},e),{log:E,streaming:!w,formatLogEntry:C?S:f.ob,deployIsDone:w}))})},48329:(e,t,n)=>{n.d(t,{Ay:()=>f,MD:()=>l.MD,iJ:()=>l.iJ,wo:()=>l.wo});var r=n(86326),o=n(82432),i=n(43963),a=n(78028),u=n(51704),c=n(18074),l=n(75202),s=n(26242);let f=(0,o.Ng)(function(e,t){var n=t.site;return{hooks:(0,u.db)(e,n),hookTypes:(0,u.vo)(e,n),forms:(0,i.OM)(e,n),provider:(0,a.oL)(e)}},function(e,t){var n=t.site,r=t.filter;return{onLoad:function(){e((0,u.LG)(n)),e((0,u.pb)(n)),r===l.MD&&e((0,i.ye)(n))},onDelete:function(t){return e((0,u.$3)(n,t))},onCreate:function(t){return e((0,u.ab)(n,t))},onUpdate:function(t,r){return e((0,u.p$)(n,t,r))},onTokenRequest:function(t,n){return e((0,c.HU)(t,n))}}})(function(e){var t,n,o=e.onLoad,i=e.component,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["onLoad","component"]);return(0,r.useEffect)(function(){o()},[null==(t=a.account)?void 0:t.get("id"),null==(n=a.account)?void 0:n.get("type_slug")]),(0,r.createElement)(i||s.A,a)})},53358:(e,t,n)=>{n.d(t,{A:()=>s,G:()=>l});var r=n(36870),o=n(51101),i=n(2493),a=n(20650),u=n(53933);function c(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}var l=function(e){var t=(0,a.A)(e),n=t.hasPaymentMethod,r=t.processStripeCard,l=(0,i.P)().handleSubmit,s=(0,u.A)(e),f=s.availablePlansForUpdate,p=s.submitPlanChange,d=f.find(function(e){return(0,o.p6)(e.slug)});return{handleUpdate:function(){var e;return(e=function(){return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(c){var l=[u,c];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,r=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}(this,function(e){switch(e.label){case 0:if(!d)throw Error("No Pro plan found");if(n)return[3,2];return[4,l().then(r)];case 1:e.sent(),e.label=2;case 2:return[2,p({plan:d})]}})},function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,u,"next",e)}function u(e){c(i,r,o,a,u,"throw",e)}a(void 0)})})()}}};let s=function(e){var t,n,o=e.component,i=(e.onUpdate,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["component","onUpdate"])),a=l(e.account).handleUpdate;return(0,r.jsx)(o,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},i),n=n={onUpdate:a},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},56195:(e,t,n)=>{n.d(t,{A:()=>L});var r=n(36870),o=n(51101),i=n(44110),a=n(51444),u=n.n(a),c=n(86326),l=n(25669),s=n(59989),f=n(76690),p=n(28821),d=n(94746),g=n(18879),y=n(60510),b=n(56832),v=n(61371),m=n(94958),h=n(27578),w=n(12707);function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function S(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,u=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(u)throw r}}return i}}(e,t)||E(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||E(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}}function k(e){var t=null==e?void 0:e.get("level");return"WARN"!==t&&"ERROR"!==t?"":(0,o.cn)("WARN"===t?"tw-border-gold-darker tw-bg-gold-darkest":"tw-border-red-darker tw-bg-red-darkest","tw-border-y")}var N=(0,o.cn)("md:tw-mt-0","tw-ml-0","tw-mt-0","tw-mb-4","tw-w-full","xl:tw-mb-0","xl:tw-basis-2","xl:tw-grow","xl:tw-mr-0"),D=function(e){var t=x((0,c.useState)((0,i.List)()),2),n=t[0],r=t[1],o=(0,c.useRef)((0,i.List)()),a=(0,c.useRef)(null),l=e.dateTimeRange,s=e.streaming,f=(0,c.useCallback)(u()(function(){r(o.current)},200,{leading:!0}),[]);return(0,c.useEffect)(function(){var t,n=function(){a.current&&(a.current.close(),a.current=null)};return((null==(t=o.current)?void 0:t.size)&&(o.current=(0,i.List)(),r(o.current)),s)?(!function(){if(!a.current){var t,n=e.site,r=e.func,u=e.user,c=e.log_type,s=n.get("id"),p=r.get("n"),g=(0,d.Ln)(r).replace(/\./g,"-"),y="/functions/".concat(s,"/").concat(g,"/").concat(p,"/log");a.current=(0,b.y)({type:c||"socketeer",resource:v.A.FUNCTION,functionId:r.get("oid")||r.get("id"),siteId:s,apiToken:u.get("access_token"),awsAccountId:r.get("a"),path:y,fromDatetime:new Date(Date.now()-3e5).toISOString(),toDatetime:null==(t=l.to)?void 0:t.toISOString()}),a.current.listen(function(e){e&&(o.current=(0,i.fromJS)(A(o.current).concat([e])),f())},function(e){o.current=(0,i.fromJS)(A(o.current).concat([{ts:new Date,log:"[ERROR] Function logs are currently unavailable. We are working on resolving the issue."}])),f()})}}(),function(){n()}):void n()},[s,l.to,l.from]),{logs:n,streaming:e.streaming,source:"stream"}},I=function(e){var t,n,r=e.site,o=e.scope,a=e.filtersValue,u=e.func,f=e.dateTimeRange,p=e.streaming,g=e.initialBranch;!function(e,t){if(null!=e){var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}}(e,["site","scope","filtersValue","func","dateTimeRange","streaming","initialBranch"]);var y=null==r?void 0:r.get("id"),b=null==u?void 0:u.get("n"),v=(0,h.wA)(),m=null==(t=f.from)?void 0:t.getTime(),w=null==(n=f.to)?void 0:n.getTime(),O=(0,h.d4)(function(e){var t=(0,s.nv)(e,r,o);return""!==g?g:null==t?void 0:t.get("branch")}),P=(0,d.Sk)(o),S="deploy"===P.type?P.value:void 0,x=(0,h.d4)(function(e){return(0,l.iw)(e,y,b,{branch:O,q:a.term,from:m,to:w,deployId:S})||null}),A=(0,h.d4)(function(e){return(0,l.cW)(e,y,b,{branch:O,q:a.term,from:m,to:w,deployId:S})||(0,i.List)()}),E=(0,h.d4)(function(e){return(0,l.ix)(e,y,b,{branch:O,q:a.term,from:m,to:w,deployId:S})}),k=(0,c.useRef)(new Set),N=!!(null==A?void 0:A.size)&&!x,D=function(){var e;return(e=function(){var e;return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(c){var l=[u,c];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,r=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}(this,function(t){switch(t.label){case 0:if(e="".concat(x||"initial","-").concat(a.term,"-").concat(m,"-").concat(w,"-").concat(O),k.current.has(e))return[2];return k.current.add(e),[4,v((0,l.KB)(y,b,{from:new Date(m).getTime(),to:new Date(w).getTime(),q:a.term,next_cursor:x,branch:O,deployId:S}))];case 1:return t.sent(),[2]}})},function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){j(i,r,o,a,u,"next",e)}function u(e){j(i,r,o,a,u,"throw",e)}a(void 0)})})()};return(0,c.useEffect)(function(){p||D()},[p,a.term,m,w]),{logs:A,lastPage:N,fetchMoreLogs:D,streaming:!1,fetching:E,source:"page"}},_=function(e){var t=D(e),n=I(e);return e.streaming?t:n};let L=function(e){var t=m.N.location,n=(0,c.useMemo)(function(){return new URLSearchParams(t.search)},[t.search]),o=x((0,c.useState)({term:""}),2),i=o[0],a=o[1],u=x((0,c.useState)(n.get("from")&&n.get("to")?(0,d._i)(n):p.A.getInitialDateRange()),2),l=u[0],s=u[1],b=x((0,c.useState)((0,d.A3)(n)),2),v=b[0],h=b[1],O=x((0,c.useState)(!0),2),j=O[0],A=O[1],E=e.account.get("id")||"",D=_(S(P({},e),{streaming:j,dateTimeRange:l,filtersValue:i,initialBranch:v})),I=D.fetching,L=D.streaming,R=D.logs,T=D.lastPage,C=D.fetchMoreLogs,U=D.source,F=(0,c.useMemo)(function(){return y.IO},[]),M=(0,c.useMemo)(function(){return y.Sw},[]);(0,c.useEffect)(function(){if(n.get("from")&&n.get("to")){var e=(0,d._i)(n);A(!1),s(e)}n.get("branch")&&h((0,d.A3)(n))},[n]),(0,c.useEffect)(function(){a(function(e){return S(P({},e),{dateTimeRange:l,initialBranch:v})})},[l,v]);var z="stream"===U||"page"===U&&I?"Waiting for logs":"No results found for query",B="lambda";return(0,r.jsx)(g.A,{datepicker:(0,r.jsx)(p.A,{account:e.account,isUnsupportedBackgroundFunction:(0,d.pw)(e.func)&&!(0,d.hV)(e.func),onChange:function(e){var t=e.range;A(e.label===p.I),s(t)},functionsType:B}),log:R.isEmpty()?null:R,fetching:I,streaming:L,fixedHeight:!0,noWrap:!0,emptyLogMessage:z,title:"Function log",formatLogEntry:F,getLogLineClasses:k,scrollPause:!0,filters:i,lastPage:T,filterFn:"stream"===U?function(e,t){var n=(null==e?void 0:e.get("type"))==="report"&&(null==e?void 0:e.get("level"))==="INFO"?e.set("level",""):e;return["log","requestId","level"].map(function(e){return null==n?void 0:n.get(e)}).filter(Boolean).join(" ").toLowerCase().includes(t.term.toLowerCase())}:null,loadMoreLogs:C,search:(0,r.jsx)("div",{className:N,children:(0,r.jsx)(w.A,{placeholder:"Filter by request ID, message, log level",value:i.term,onSearch:function(e){a(function(t){return S(P({},t),{term:e})})},onFocus:function(){return f.m39.appFunctionLogsTextFilterFocused({accountId:E,functionsType:B})}})}),source:U,formatForClipboard:M,onCopyToClipboard:function(){return f.m39.appFunctionLogsCopyClicked({accountId:E,functionsType:B})},onPlayPause:function(){return f.m39.appFunctionLogsPauseClicked({accountId:E,functionsType:B})},onScrollToBottom:function(){return f.m39.appFunctionLogsScrollBottomClicked({accountId:E,functionsType:B})},onScrollToTop:function(){return f.m39.appFunctionLogsScrollTopClicked({accountId:E,functionsType:B})}})}},59123:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(36870),o=n(44110),i=n(82432),a=n(88704),u=n(54459);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let l=(0,i.Ng)(function(e){var t=e.user;return{user:t,progress:t&&t.get("onboarding_progress")||(0,o.Map)()}},function(e){return{onProgress:function(t,n){return e((0,a.JX)(t,n))}}})(function(e){var t=c({},function(e){if(null==e)throw TypeError("Cannot destructure "+e);return e}(e));return(0,r.jsx)(u.A,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t))})},60595:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(36870),o=n(86326),i=n(82432),a=n(19594),u=n(53372),c=n(76187),l=n(82364);let s=(0,i.Ng)(function(e,t){var n=t.account,r=(0,u.x4)(e);return{receipts:(0,a.Kw)(e,n),api:{receiptPdf:function(e){return r.accountReceiptPdf(n.get("slug"),e)}}}},function(e,t){var n=t.account;return{onLoad:function(){return(0,l.JR)(n)&&e((0,a.oj)(n))}}})(function(e){var t=e.title,n=e.receipts,i=e.api,a=e.account,u=e.organization,l=e.onLoad,s=null==a?void 0:a.get("id");return(0,o.useEffect)(function(){l()},[s]),(0,r.jsx)(c.A,{title:t,receipts:n,api:i,account:a,organization:u})})},60928:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(36870),o=n(86326),i=n(82432),a=n(81203),u=n(43808),c=n(53189),l=n(28889);let s=(0,i.Ng)(function(e,t){var n=t.site;return{members:(0,a.Av)(e,n)}},function(e){return{onLoad:function(t){var n=t.site;return e((0,a.MD)(n))}}})(function(e){var t=e.site,n=e.members,i=e.onLoad,a=e.user,s=(0,c.ZT)().setIsLoadingApp;(0,o.useEffect)(function(){s(!1)},[s]),(0,o.useEffect)(function(){i({site:t})},[]);var f=t.get("account_slug"),p=(0,l.A)(f);return(0,o.useEffect)(function(){f!==p&&i({site:t})},[f,p]),(0,r.jsx)(u.A,{site:t,members:n,user:a})})},62578:(e,t,n)=>{n.d(t,{A:()=>p});var r=n(92464),o=n.n(r),i=n(86326),a=n(39982),u=n(65900),c=n(17718),l=n(8345),s=n(3960);function f(e){var t=e.page,n=e.perPage,r=e.filter,i=e.status;return o()({page:t,perPage:n,status:i,filter:r},function(e){return void 0===e})}let p=(0,c.O)(function(e,t){var n=(0,s.Zq)(t.location.search),r=t.site;return{runners:(0,a.V_)(e,r,n)}},function(e){return(0,a.$B)(e.site.get("id"),f(e))},"page","perPage","filter","status")(function(e){var t=e.poll,n=e.dispatch,r=e.site,o=e.page,c=e.perPage,s=e.filter,p=e.status,d=e.component,g=e.children,y=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["component","children"]),b=(0,i.useRef)(null);return(0,i.useEffect)(function(){if(b.current&&clearInterval(b.current),t)return b.current=setInterval(function(){n((0,a.$B)(r.get("id"),f({page:o,perPage:c,filter:s,status:p}))),n((0,u.UK)(r.get("name")))},(0,l.B)()),function(){clearInterval(b.current)}},[o,c,s,t]),d?(0,i.createElement)(d,y,g):(0,i.cloneElement)(g,y)})},70119:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(86326),o=n(24204),i=n(65900),a=n(17718),u=n(8345);function c(e){return{page:e.page,perPage:e.perPage,filter:e.filter,from:e.from,to:e.to,state:e.status}}let l=(0,a.O)(function(e,t){var n=t.site,r=c(t);return{deploys:(0,o.TO)(e,n,r),pagination:(0,o.jm)(e,n,r),pendingDeploys:(0,o.QN)(e,n)}},function(e){return(0,o.Z6)(e.site,c(e))},"page","perPage","filter","from","to","status")(function(e){var t=e.poll,n=e.dispatch,a=e.site,l=e.page,s=e.perPage,f=e.filter,p=e.from,d=e.to,g=e.status,y=e.component,b=e.children,v=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["component","children"]),m=(0,r.useRef)(null);return(0,r.useEffect)(function(){if(m.current&&clearInterval(m.current),t)return m.current=setInterval(function(){n((0,o.Z6)(a,c({page:l,perPage:s,filter:f,from:p,to:d,status:g}))),n((0,i.UK)(a.get("name")))},(0,u.B)()),function(){clearInterval(m.current)}},[l,s,f,t,p,d]),y?(0,r.createElement)(y,v,b):(0,r.cloneElement)(b,v)})},71302:(e,t,n)=>{n.d(t,{A:()=>eq,o:()=>ez});var r,o=n(36870);n(45557);var i=n(37811),a=n(51101),u=n(43536),c=n(44110),l=n(86326),s=n(82432),f=n(17250),p=n(53372),d=n(88704),g=n(17871),y=n(76808),b=n(24204),v=n(36175),m=n(65264),h=n(48528),w=n(65900),O=n(26460),j=n(76690),P=n(67567),S=n(34199),x=n(33693),A=n(87963),E=n(12335),k=n(70932),N=n(33256),D=n(54423),I=n(2567),_=n(14712),L=n(86852),R=n(80572),T=n(81794),C=n(99680),U=n(74591),F=n(43134);function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}let z=(0,s.Ng)(function(e){return{a11yMessage:(0,O.U)(e)}},{setLoading:O.r1,setA11yMessage:O.KX})(function(e){var t,n=(t=(0,l.useState)(""),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,u=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){u=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(u)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return M(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],i=n[1],a=function(e){var t=e.a11yMessage;t&&(setTimeout(function(){i(t)},50),setTimeout(function(){i("")},500))};return(0,l.useEffect)(function(){a(e)},[e]),(0,o.jsx)("div",{role:"status","aria-live":"polite","aria-atomic":"true",className:"tw-sr-only",children:r})});var B=n(44953),V=n(27578),G=n(68444);let H=function(e){var t,n,r,i,a=e.history,c=(0,V.d4)(function(e){var t,n=e.ui.getIn(["ui","firstDeployModal"]),r=(0,w.W5)(e,null==n||null==(t=n.data)?void 0:t.site_id),o=(0,d.QR)(e);return{firstDeployModal:n,site:null==r?void 0:r.toJS(),user:o}}),s=c.firstDeployModal,f=c.site,p=c.user,g=(null==s||null==(t=s.data)?void 0:t.state)==="ready",y=(0,V.wA)(),b=null==s||null==(n=s.data)?void 0:n.claimed,v=f?(0,u.l2)(f,"overview"):null,m=f?(0,u.l2)(f,"deploys",null==s||null==(r=s.data)?void 0:r.id):null,h=window.location.pathname===v,P=window.location.pathname===m,S=null==s?void 0:s.show,x=null==s||null==(i=s.data)?void 0:i.site_id,A=null==p?void 0:p.get("email");return(0,l.useEffect)(function(){S&&j.m39.appFirstDeployModalDisplayed({site_id:x,pageUrlPath:window.location.pathname,success:g,email:A})},[S,x,g,A]),S?(0,o.jsx)(B.A,{site:f,onHide:function(e){e!==G.M3.onSubmit&&(g&&h&&m&&(y((0,O.d1)()),a.push(m)),j.m39.appFirstDeployModalInteraction({modalInteraction:"dismissed"})),y((0,O.d1)())},onSave:function(){j.m39.appFirstDeployModalInteraction({modalInteraction:"primaryCtaClicked"}),!h&&v&&a.push(v)},onFailedDeploySave:function(){!P&&m&&a.push(m)},success:g,claimed:b}):null};var q=n(52147),$=n(12666),W=n(60373),K=n(37552),Z=n(48223),J=n(53189),X=n(49422),Y=n(2957),Q=n(95450),ee=n(77879),et=n(47534),en=n(79241),er=n(28889),eo=n(8165),ei=n(58957),ea=n(81778),eu=n(12575),ec=n(41443),el=n(84290),es=n(80841),ef=n(23015),ep=n(29383),ed=n(47512),eg=n(27180),ey=n(45235),eb=n(82364),ev=n(55154),em=n(94958),eh=n(21486),ew=n(30091),eO=n(84299),ej=n(45259),eP=n(85518),eS=n(20397),ex=n(77818),eA=n(84070),eE=n(58142),ek=n(65698),eN="isNavCollapsed";function eD(){return"true"===(0,ep._S)(eN)}var eI=function(e){var t,n=[{label:"User settings",to:eu.bw.USER_SETTINGS},{label:"Netlify Labs",to:eu.bw.USER_LABS}];return(null==e||null==(t=e.get("email"))?void 0:t.endsWith("@netlify.com"))&&n.push({label:"Netlidev",to:eu.bw.NETLIDEV}),n};function e_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eL(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}function eR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,u=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(u)throw r}}return i}}(e,t)||eC(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eC(e,t){if(e){if("string"==typeof e)return e_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e_(e,t)}}var eU="",eF="",eM=function(){return!0};function ez(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.pathname,r=e.account,o=e.site,i=e.params,a=eT((0,u.Cm)(n,i).slice(0,3),3),c=a[0],l=a[1],s=a[2],f=null==(t=el.Tl[c])?void 0:t.find(function(e){return e.key===l}),p=null==f?void 0:f.isVisible;if((null==f?void 0:f.subNavigation)&&s){var d=f.subNavigation.find(function(e){return e.key===s});p=null==d?void 0:d.isVisible}return p||(p=eM),p({account:r,site:o})}function eB(){if(!(0,ep.Hd)("tracking_session_id")){var e=crypto.randomUUID();(0,ep.J2)("tracking_session_id",e)}}function eV(){(0,ep.Hd)("tracking_session_id")&&(0,ep.X)("tracking_session_id")}var eG=function(e){var t=e.location,n=e.titlesByRoute;(0,l.useEffect)(function(){if(!t.pathname.startsWith("/teams/~/")){var e=(0,ef.$0)(t.pathname,Object.values(eu.bw)),r=null!=e?e:{},o=r.path,i=r.params;if(void 0!==o&&void 0!==i){var a=function(e){var t,n,r=e.path,o=e.params,i=e.titlesByRoute;if("/"===r)return null!=(n=i[r])?n:null;for(var a=["/"],u=1;u<r.length;u++)"/"===r[u]&&a.push(r.slice(0,u));return a.push(r),t=a.map(function(e){var t;return null!=(t=i[e])?t:null}).filter(Boolean).reverse(),t.join(" ".concat("|"," ")).replace(/:[\w]+/g,function(e){return o[e.slice(1)]})}({path:o,params:i,titlesByRoute:n});null!==a&&(document.title=a)}}},[t.pathname])},eH=function(e){var t=e.match,n=null==t?void 0:t.path;(0,l.useEffect)(function(){n&&(0,ev.$3)(n)},[n])};let eq=(0,i.j8)({sdkKey:"dvc_client_7b35e45b_dd67_444b_b114_46804faa770d_ab0f202",options:{apiProxyURL:"https://featureflags.netlify.com",deferInitialization:!1}})((0,s.Ng)(function(e,t){var n,r,o,i,a,c,l,s,g,b,v,j,P,S,x=t.location,A=t.childExcludeAppNav,E=(0,ef.$0)(x.pathname,Object.values(eu.bw).filter(function(e){return e!==eu.bw.APEX_ROUTE})),k=null!=(j=null==E?void 0:E.params)?j:{},N=k.name,D=k.account_slug,I=k.organization_slug,_=(0,w.Gd)(e,N),L=(0,d.QR)(e),R=(0,f.N8)(e),T=(0,f.jH)(e),C=D||_&&_.get("account_slug"),U=C&&(0,f.Mz)(e,C)||(0,f.PR)(e),F=(0,O.Am)(e,C);!k.account_slug&&(null==U?void 0:U.get("slug"))&&!k.name&&(k.account_slug=U.get("slug"));var M=(0,h.Zb)(e),z=null==U?void 0:U.get("organization_id"),B=I?(0,h.Ee)(e,I):null==M?void 0:M.find(function(e){return e.get("id")===z}),V=U?(0,y.zo)(e,U.get("id")):void 0,G=(0,el.bq)({params:k,account:U,site:_,createOrganization:V}),H=(0,el.C0)({pathname:"/teams",params:{account_slug:null==U?void 0:U.get("slug")},account:U,createOrganization:V}),q=null==E?void 0:E.path,$=null!=(P=Object.keys(eu.bw).find(function(e){return eu.bw[e]===q}))?P:"",W=null!=(S=eu.go[$])?S:{},K=null==W?void 0:W.excludeHeader,Z=null==W?void 0:W.excludeAppNav,J=null==W?void 0:W.excludeSecondaryNav,X=null==W?void 0:W.excludeLocalNav;(0,ey.qn)(null==U?void 0:U.get("role"))&&(J=!0),(0,eb.kY)(U)&&(J=!0),!A||(null==L?void 0:L.get("id"))||(Z=!0);var Y=!!L&&(T||!!U),Q=(0,f.QS)({state:e,account:U,noAccounts:T,pathname:x.pathname,search:x.search,hash:x.hash}),ee=(0,O._d)(e);return{isAuthViewReady:Y,user:L,site:_,sitesNavList:F,params:k,account:U,accounts:R,api:(0,p.x4)(e),organization:B,organizations:M,siteNavigation:G,teamNavigation:H,redirect:Q,backTo:(i=(n={routeProps:W,location:x,params:k,navigation:H}).routeProps,a=n.location,c=n.params,l=n.navigation,s=a.pathname,g=a.search,b=(0,u.Cm)(s,c)[1],(v=i.back?null==l?void 0:l.find(function(e){return e.key===b}):void 0)&&[eu.bw.TEAM_PLUGINS].some(function(e){return(0,es.B6)(v.path,e)})?v:v&&(r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){eR(e,t,n[t])})}return e}({},v),o=o={path:"/".concat((0,u.qZ)(s).slice(0,-1).join("/")).concat(g)},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))}),r)),userId:L&&L.get("id")||null,notifications:(0,m.LG)(e),lastNotificationReadAt:(0,m.K4)(e),excludeHeader:K,excludeAppNav:Z,excludeSecondaryNav:J,excludeLocalNav:X,routePath:q,showGuidedOnboarding:ee,routeKey:$}},function(e){return{setA11yMessage:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e(O.KX.apply(void 0,function(e){if(Array.isArray(e))return e_(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||eC(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))},onLoad:function(t){var n=t.siteName;return e((0,d.Xh)()).then(function(t){return n&&e((0,w.UK)(n)),t&&(e((0,h.pP)()),e((0,f.xk)()),e((0,m.fg)()),eB()),t}).catch(function(t){return 401===t.code?e((0,d.q7)(window.location.pathname)):Promise.reject(t)})},loadNotifications:function(t){return t.user&&e((0,m.fg)())},loadSitesNavList:function(t){var n=t.accountSlug,r=t.siteName;return e((0,O.GI)({accountSlug:n,siteName:r}))},onReadNotifications:function(t){return e((0,m.JF)(t))},onClickNotification:function(t){return e((0,m.mo)(t))},onLogout:function(t){e((0,d.y4)(t)),eV(),eB()},onDragEnter:function(t){e((0,v.v7)())},onDragLeave:function(t){(t.clientX<=0||t.clientY<=0||t.clientX>window.innerWidth||t.clientY>window.innerHeight)&&e((0,v.K0)())},onDragOver:function(e){e.preventDefault()},onDrop:function(t){t.preventDefault(),e((0,v.K0)())},onCancelDeploy:function(t,n){e((0,b.ol)((0,c.Map)({name:t}),(0,c.Map)({id:n})))},onChangeRoutePath:function(t){(0,ei.lA)(t),e((0,O.lh)(t))},setPaymentProviderSecureDecisionState:function(t){return e((0,g.Dz)(t))}}})(function(e){var t,n,i,c,s,f=e.account,p=e.accounts,g=e.api,b=e.children,m=e.excludeAppNav,h=void 0!==m&&m,w=e.excludeSecondaryNav,O=void 0!==w&&w,M=e.excludeLocalNav,B=void 0!==M&&M,G=e.excludeHeader,ei=void 0!==G&&G,el=e.isAuthViewReady,es=e.loadNotifications,ey=e.loadSitesNavList,e_=e.location,eC=e.onCancelDeploy,eM=e.onChangeRoutePath,ez=e.onDragEnter,eq=e.onDragLeave,e$=e.onDragOver,eW=e.onDrop,eK=e.onLoad,eZ=e.organization,eJ=e.params,eX=e.redirect,eY=e.routePath,eQ=e.routeKey,e0=e.showGuidedOnboarding,e1=e.site,e2=e.sitesNavList,e3=e.user,e8=e.userId,e6=e.history,e4=(0,J.ZT)().isLoadingApp,e5=eT((0,l.useState)(!0),2),e7=e5[0],e9=e5[1],te=eT((0,l.useState)(!1),2),tt=te[0],tn=te[1],tr=eT((0,l.useState)(null),2),to=tr[0],ti=tr[1],ta=eT((0,l.useState)(!1),2),tu=ta[0],tc=ta[1],tl=eT((0,l.useState)(!1),2),ts=tl[0],tf=tl[1],tp=eT((0,l.useState)(!1),2),td=tp[0],tg=tp[1],ty=f?Number(f.getIn(["support_level"])):0,tb=null==f?void 0:f.get("slug"),tv=null==f?void 0:f.get("id"),tm=(0,ee.A)("lg"),th=(0,er.A)(e8),tw=(0,V.wA)(),tO=(0,Y.DP)(),tj=tO.themePreference,tP=tO.setThemePreference,tS=eT((0,l.useState)(!1),2),tx=tS[0],tA=tS[1],tE=eT((0,l.useState)(!!eD()),2),tk=tE[0],tN=tE[1],tD=eT((0,l.useState)(function(){if(eD()||e1||O)return!0}),2),tI=tD[0],t_=tD[1];(0,l.useEffect)(function(){tx&&t_(void 0)},[tx]),(0,l.useEffect)(function(){tk||t_(!!e1||!!O||void 0)},[e1,O]);var tL=(0,l.useCallback)(function(){t_(function(e){var t=!0!==e||void 0;return!0===t?(0,ep.AP)(eN,"true"):(0,ep.sc)(eN),tN(!0===t),t})},[]),tR=(0,ef.$0)(e_.pathname,Object.values(eu.bw));eG({location:e_,titlesByRoute:eu.jA}),eH({match:tR});var tT=(0,l.useRef)(null),tC=(0,l.useRef)(null),tU=(0,et._)("project_trumbeak_ui"),tF=(0,et._)("project_libaniferous_ui"),tM=function(){tt||(tn(!0),eK({siteName:eJ.name}).then(function(e){tn(!1),e||e9(!1)}).catch(function(e){tn(!1),ti(e),e9(!1)}).finally(function(){requestIdleCallback(function(){Array.isArray(window._asyncScriptsWaitingLoad)&&(window._asyncScriptsWaitingLoad.map(function(e){return e()}),window._asyncScriptsWaitingLoad=[])},{timeout:2e3})}))},tz=function(){document.addEventListener("dragenter",ez,!1),document.addEventListener("dragleave",eq,!1),document.addEventListener("dragover",e$,!1),document.addEventListener("drop",eW,!1)},tB=function(){document.removeEventListener("dragenter",ez),document.removeEventListener("dragleave",eq),document.removeEventListener("dragover",e$),document.removeEventListener("drop",eW)};(0,en.A)(function(){es(e)},6e5),(0,l.useEffect)(function(){th!==e8&&tM()},[e8,th]),(0,l.useEffect)(function(){eF!==eY&&eY&&(eF=eY,(r=(0,ev.IX)({routePath:eY})).whenDataFullyLoaded({timeout:15e3,whenDFLCallback:function(e){var t=e.viewDFLTimedOut;r.markDataFullyLoaded({viewDFLTimedOut:t})}})),e7||e4||!r||r.markInitialRender()},[e7,e4,eY]),(0,l.useEffect)(function(){f&&e3&&((0,ev.Q)({id:e3.get("id")||"",email:e3.get("email"),accountId:f.get("id"),plan:f.get("type_slug")}),(0,ev.My)("buildUTCTime",0x19856c36993))},[f,e3]);var tV=null==e1?void 0:e1.get("name");(0,l.useEffect)(function(){tb&&tV&&ey({accountSlug:tb,siteName:tV})},[tb,tV,ey]),(0,l.useEffect)(function(){e8&&tw((0,d.Ce)())},[e8,tw]),(0,l.useEffect)(function(){tv&&tw((0,y.nG)(tv))},[tv,tw]),(0,l.useEffect)(function(){if(e3&&!el&&e9(!0),el&&(e9(!1),e3)){var e;null==(e=window.CommandBar)||e.addRecords("sites",[],{onInputChange:function(e){var t;return(t=function(){return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(c){var l=[u,c];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,r=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}(this,function(t){switch(t.label){case 0:return[4,g.sites({searchTerm:e})];case 1:return[2,t.sent().data.map(function(e){return(0,ec._3)(e)})]}})},function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){eL(i,r,o,a,u,"next",e)}function u(e){eL(i,r,o,a,u,"throw",e)}a(void 0)})})()}})}},[e3,el,g]),(0,l.useEffect)(function(){e_.search.includes("request_hp_edge=true")?tf(!0):e_.search.includes("request_background_functions=true")&&tg(!0)},[e_.search]),(0,l.useEffect)(function(){if((null==e3?void 0:e3.get("id"))&&(null==f?void 0:f.get("slug"))){var e,t;eg.A.launch({accountSlug:null!=(e=f.get("slug"))?e:"",accountPlanType:null!=(t=f.get("type_slug"))?t:"",dispatch:tw,setThemePreference:tP,themePreference:tj,user:e3,toggleNavCollapse:tL})}},[null==e3?void 0:e3.get("id"),null==f?void 0:f.get("slug")]),(0,l.useEffect)(function(){var e,t;return tz(),eB(),e=(0,ep.Hd)("tracking_session_id"),(eU=window._sift=window._sift||[]).push(["_setAccount",F.A.siftBeaconKey]),eU.push(["_setSessionId",e]),eU.push(["_setUserId",""]),eU.push(["_trackPageview"]),(t=document.createElement("script")).src="https://cdn.sift.com/s.js",document.body.prepend(t),(0,ep.Hd)("team_upgrade_flow")||(0,ep.J2)("team_upgrade_flow",JSON.stringify({})),function(){tB(),eV()}},[]),(0,l.useEffect)(function(){if(eX)return em.N.replace(eX)},[eX]),(0,l.useEffect)(function(){var e=em.N.listen(function(){tA(!1)}),t=(0,ee.t)("lg",function(e){e&&tA(!1)});return function(){t(),e()}},[]),(0,l.useEffect)(function(){return em.N.block(function(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"";if(o.length>1&&o.endsWith("/")&&(o=o.slice(0,-1)),eu.nl.includes(o)||eu.Hz.some(function(e){return e(o)})){e9(!0);var i=new URL(t,window.location.origin);i.search=n,i.hash=r,console.log("Full navigation to token manager",i.toString()),window.location.href===i.toString()?window.location.reload():["host","pathname","search"].every(function(e){return window.location[e]===i[e]})?(window.location.href=i.toString(),setTimeout(function(){window.location.reload()},150)):window.location.href=i.toString()}})},[]),(0,l.useEffect)(function(){eM(eY),(0,ep.J2)("routePath",eY)},[eM,eY]),(0,l.useEffect)(function(){var e=(0,ep._S)("drop-token"),t=(0,ep._S)("dropUploadInterrupted"),n=(0,ep._S)("dropDeployId"),r=(0,ep._S)("dropSiteName");t&&n?(eC(r,n),(0,v.Xu)()):el&&e&&r&&tw((0,v.Wk)())},[eC,el,tw]);var tG=(0,eo.N)({account:f,site:e1,items:e.siteNavigation}),tH=tG.items,tq=tG.sections,t$=(0,l.useCallback)(function(e){if(e){var t=function(){var t=e.getBoundingClientRect().height;document.documentElement.style.setProperty("--headerHeight","".concat(t,"px"))};t();var n=new ResizeObserver(t);return n.observe(e),function(){return n.disconnect()}}},[]),tW=(0,l.useRef)(null);(0,l.useEffect)(function(){var e=tW.current;if(e){e.dataset.collapsed=tI?"true":"false";var t=setTimeout(function(){e.dataset.stable="true"},200);return function(){clearTimeout(t),e.dataset.stable="false"}}},[tI]);var tK=function(e){"logs"===e&&j.m39.appSiteNavGroupLogsOpened(),"metrics"===e&&j.m39.appSiteNavGroupMetricsOpened()};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ek.A,{show:(e4||e7)&&!el}),!e7&&!eX&&(0,o.jsx)(W.A,{isAuthViewReady:el,children:(0,o.jsx)(L.A,{children:(0,o.jsx)(Q.$,{children:(t=eY===eu.bw.TEAM_OVERVIEW,n=eY===eu.bw.DROP_BASE||(null==eY?void 0:eY.startsWith(eu.bw.DROP_DETAIL)),i=eY===eu.bw.USER_LABS,c=(0,a.cn)(i?"dark:tw-text-white":"dark:tw-text-gray-light",i?"dark:tw-bg-gray-dark":"dark:tw-bg-transparent",i?"tw-bg-gray-lighter":i?"tw-text-black":"tw-text-gray-darker",i?"tw-font-bold":"!tw-font-medium","dark:hover:tw-text-white","focus:tw-text-teal-darkest","hover:tw-bg-teal-lightest","hover:tw-text-teal-darkest","tw-flex","tw-flex-nowrap","tw-items-center","tw-justify-center","tw-w-full","lg:tw-w-auto","lg:tw-px-3"),s=e3?(0,o.jsxs)(o.Fragment,{children:[tF&&(0,o.jsx)("div",{className:"tw-flex tw-flex-1 tw-justify-center",children:(0,o.jsxs)(a.$n,{level:"tertiary",to:eu.bw.USER_LABS,onClick:function(){j.m39.appPrimaryNavLabsClicked({currentPage:eY,accountId:(null==f?void 0:f.get("id"))||"",accountType:(null==f?void 0:f.get("type_name"))||""})},className:c,children:[(0,o.jsx)(a.ks,{className:(0,a.cn)("tw-shrink-0","tw-mr-3",i&&"tw-hidden"),focusable:"false",name:"nav-labs"}),(0,o.jsx)(a.ks,{className:(0,a.cn)("tw-shrink-0","tw-mr-3",!i&&"tw-hidden"),focusable:"false",name:"nav-labs-active"}),(0,o.jsx)("span",{className:"layout-toggleable-bold-text","data-text-content":"Labs",children:"Labs"})]})}),(0,o.jsx)("div",{className:"tw-flex tw-flex-1 tw-justify-center",children:(0,o.jsx)(eA.A,{items:e.notifications,lastReadAt:e.lastNotificationReadAt,onRead:e.onReadNotifications,onClick:e.onClickNotification,align:tx?"left":"right",isMobileNavOpen:tx})}),(0,o.jsx)("div",{className:"tw-flex tw-flex-1 tw-justify-center",children:(0,o.jsx)(a.H9,{userEmail:e3.get("email"),align:"right",isMobileNavOpen:tx,onClickUpgrade:function(){j.m39.appSupportMenuUpgradeSupportButtonClicked({support_level:Number((null==f?void 0:f.get("support_level"))||0)})},onClickUpgradeForHighSupportPriority:function(){return tc(!0)},accountSlug:null==f?void 0:f.get("slug"),accountSupportLevel:f&&Number(null==f?void 0:f.get("support_level")),accountSupportPriority:null==f?void 0:f.get("support_priority")})}),tu&&(0,o.jsx)(C.A,{supportLevel:ty,show:tu,onHide:function(){return tc(!1)},user:e3,account:f,accounts:p})]}):(0,o.jsx)(D.p,{}),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(z,{}),(0,o.jsx)(Z.A,{account:f,user:e3}),(0,o.jsx)(K.A,{}),(0,o.jsx)(q.A,{account:f,user:e3}),(0,o.jsx)($.A,{channel:"UserChannel",listener:ed.aF}),tU?(0,o.jsx)(X.A,{account:f,user:e3}):null,(0,o.jsxs)("div",{"data-no-secondary-nav":h||O?"true":void 0,className:(0,a.cn)("app tw-relative tw-size-full",{"page-drop__wrapper":n}),children:[(0,o.jsx)(_.A,{}),!h&&(0,o.jsx)(N.A,{user:e3,isDrop:n,isMobileNavOpen:!O&&tx,mobileMenu:!e3||O?null:(0,o.jsx)(I.W,{ref:tT,isSecondaryNavOpen:tx,onClick:function(){return tA(function(e){return!e})},onKeyDown:function(e){return function(e){var t,n=e.isMobileNavOpen,r=e.setIsMobileNavOpen,o=e.event,i=e.secondaryNav,a=e.mobileNavButton,u=o.key,c=o.shiftKey,l=o.target;if(n&&("Tab"===u||"Escape"===u)){var s=null!=(t=null==i?void 0:i.querySelectorAll("a, button"))?t:[],f=s[s.length-1];("Escape"===u||!c&&l===f||c&&l===a)&&(r(!1),l!==a&&(o.preventDefault(),null==a||a.focus()))}}({isMobileNavOpen:tx,setIsMobileNavOpen:tA,event:e,secondaryNav:tC.current,mobileNavButton:tT.current})}}),actions:s,logo:(0,o.jsx)(ew.L,{isDrop:n,isPublic:(0,eb.$q)(e1),account:f}),commandPalette:e3&&(0,o.jsx)(a.Fi,{onClick:function(){j.m39.appPrimaryNavCommandPaletteClicked({currentPage:eY,variant:"fauxinputty"}),eg.A.open()},isNavCollapsed:!1}),userDropdown:(0,o.jsx)(a.XC,{user:null==e3?void 0:e3.toJS(),onLogout:e.onLogout,userPath:eu.bw.USER_SETTINGS,links:eI(e3),showUserDetails:!1,isNavCollapsed:tI,className:"!tw-w-auto"})}),!tx&&(0,o.jsxs)("div",{className:"lg:tw-sticky lg:tw-inset-x-0 lg:tw-top-0 lg:tw-z-header",ref:t$,children:[(0,o.jsx)(R.A,{account:f,accounts:p}),(0,o.jsx)(x.A,{account:f}),(0,o.jsx)(P.A,{account:f}),(0,o.jsx)(S.A,{account:f}),(0,o.jsx)(T.A,{account:f,organization:eZ,user:e3})]}),(0,o.jsxs)("div",{className:"tw-relative tw-z-1 tw-flex tw-min-h-full",children:[!h&&!n&&(0,o.jsx)("div",{className:(0,a.cn)('[[data-page="not-found"]_&]:tw-hidden',{"lg:tw--mt-[var(--headerHeight)]":!tx,"tw-w-full":tx}),children:(0,o.jsx)("div",{className:(0,a.cn)("tw-sticky tw-inset-x-0 tw-top-0 tw-z-header lg:tw-min-h-screen",{"tw-hidden tw-pt-[var(--headerHeight)] lg:tw-flex":!tx,"tw-min-h-full":tx}),children:(0,o.jsx)("div",{className:(0,a.cn)("secondary-nav-container","tw-sticky tw-transition-[width] tw-duration-200",!tx&&"tw-top-[calc(theme(spacing.3)+var(--headerHeight))] tw-ml-3 tw-pt-2","tw-pb-1",tx&&"tw-mx-3 tw-mt-2 tw-w-[calc(100%-theme(spacing.6))]",tx?"tw-h-full":"lg:tw-h-[calc(100vh-theme(spacing.6)-var(--headerHeight))]",tI&&!tx&&" tw-w-16",!tI&&!tx&&"tw-w-64"),children:(0,o.jsxs)("div",{className:(0,a.cn)("tw-flex","tw-h-full","tw-w-full","tw-flex-col","tw-break-words","!tw-pb-0",!tx&&"until-lg:tw-overflow-x-hidden"),children:[tm&&(0,o.jsxs)("div",{className:"tw-flex tw-flex-col tw-items-start tw-px-3 tw-pb-3",children:[(0,o.jsx)("div",{className:"tw-mt-0.5 tw-flex tw-w-full tw-justify-between",children:(0,o.jsx)(ew.L,{isDrop:n,isPublic:(0,eb.$q)(e1),account:f})}),!tx&&e3&&(0,o.jsx)("div",{className:"tw-group tw-relative tw-w-full",ref:tW,"data-stable":"true","data-collapsed":!!tI,children:(0,o.jsx)("div",{className:(0,a.cn)("tw-relative","tw-h-0 group-data-[collapsed=true]:tw-h-10","tw-transition-[height] tw-delay-150 tw-duration-200 group-data-[collapsed=true]:tw-delay-75"),children:(0,o.jsx)("div",{className:(0,a.cn)("tw-absolute","tw-right-0","tw-origin-top-left","tw--translate-y-[38px] group-data-[collapsed=true]:tw--translate-x-0.5 group-data-[collapsed=true]:tw-translate-y-1.5","tw-ease-in-out tw-transition-transform tw-duration-150 group-data-[collapsed=false]:tw-delay-100"),children:(0,o.jsx)(eP.e,{onToggle:tL,isCollapsed:null!=tI&&tI})})})})]}),tm&&e3&&(0,o.jsx)("div",{className:(0,a.cn)(tI?"tw-w-16 tw-px-4 tw-transition-[width] tw-duration-200 tw-ease-ease-in-out":"tw-w-full tw-px-3","tw-mb-3 tw-min-h-9 tw-flex-shrink-0 tw-overflow-hidden tw-py-0.5"),children:(0,o.jsx)(a.Fi,{onClick:function(){j.m39.appPrimaryNavCommandPaletteClicked({currentPage:eY,variant:"fauxinputty"}),eg.A.open()},isNavCollapsed:null!=tI&&tI})}),(0,o.jsx)("div",{className:"tw-p-3 lg:tw-pt-0",children:(0,o.jsx)(eh.Q,{isNavCollapsed:tI,organization:e.organization,organizations:e.organizations,account:f,accounts:e.accounts,site:e1,isDrop:n,user:e3,hideAccountSwitcher:!!eJ.organization_slug})}),(0,o.jsx)("div",{className:"tw-flex-grow lg:tw-overflow-hidden",children:!O&&(0,o.jsx)(I._,{collapsedView:tI,ref:tC,actions:s,navigation:e.teamNavigation,site:void 0,location:e_,backTo:e.backTo,routePath:eY,account:f,className:"tw-h-full lg:tw-overflow-y-auto lg:tw-overflow-x-hidden lg:[scrollbar-width:thin]"})}),!tx&&(0,o.jsx)(U.R,{account:f,wrapperClassName:(0,a.cn)("tw-mt-auto tw-flex-shrink-0 tw-whitespace-nowrap tw-px-4 tw-pb-2 tw-pt-1 lg:tw-block","tw-transition-opacity",tI?"tw-opacity-0 tw-duration-100":"tw-opacity-100 tw-delay-200 tw-duration-200")}),tm&&(0,o.jsx)("div",{className:"tw-mt-auto tw-flex-shrink-0 tw-whitespace-nowrap tw-px-2.5 tw-pb-0.5",children:(0,o.jsx)("div",{className:"tw-relative",children:(0,o.jsx)(a.XC,{user:null==e3?void 0:e3.toJS(),onLogout:e.onLogout,userPath:eu.bw.USER_SETTINGS,links:eI(e3),showUserDetails:!0,isNavCollapsed:tI,menuPosition:"above",alignRight:!1})})})]})})})}),(0,o.jsx)("div",{className:(0,a.cn)("tw-relative tw-w-full",{"tw-hidden":tx}),children:(0,o.jsxs)("div",{className:"tw-relative tw-mx-auto tw-grid tw-min-h-full tw-grid-cols-1",children:[(0,o.jsxs)("div",{className:(0,a.cn)("app-main",eR({},"before:tw-bg-gray-lighter dark:before:tw-bg-gray-darkest before:tw-h-[660px] md:before:tw-h-[560px] lg:before:tw-h-[460px]",e0&&t)),children:[(0,o.jsx)(eS.A,{}),to?(0,o.jsx)(ea.A,{error:to}):e1&&!n?(0,o.jsxs)("div",{children:[!ei&&(0,o.jsxs)("div",{className:"tw-relative tw--mt-4 tw-flex tw-justify-between tw-gap-x-5 tw-gap-y-2 md:tw--mt-6 until-lg:tw-mb-3 until-lg:tw-flex-wrap until-lg:tw-items-start lg:tw--mt-0.5 lg:tw-mb-[calc(theme('spacing.4')+theme('spacing[0.5]'))]",children:[(0,o.jsxs)(a.Vx,{className:"until-lg:tw--ml-2 lg:tw-mt-px lg:tw-w-full",itemClassName:"!tw-m-0 !tw-p-0",children:[(0,o.jsx)(a.$n,{to:(0,u.wF)({slug:e1.get("account_slug")}),level:"tertiary",className:(0,a.cn)("!tw-font-regular","tw-text-gray-dark dark:tw-text-gray-light","hover:tw-text-teal-action dark:hover:tw-text-teal-action","!tw-bg-transparent","until-lg:!tw-pl-3 lg:!tw-pl-0","until-lg:tw-py-0 until-lg:tw-pr-2 until-lg:tw-text-sm until-lg:tw-leading-9"),children:"Projects"}),(0,o.jsx)(a.ks,{name:"nav-separator",className:"tw-relative tw-shrink-0 tw-text-gray-light until-lg:tw--top-0.5 lg:tw-mr-1","data-testid":"navigation-separator",width:11,height:22}),(0,o.jsx)(eO.D,{id:"projects-breadcrumbs",isDrop:n,isPublic:(0,eb.$q)(e1),site:e1,sites:e2,user:e3,account:f,toggle:{className:ej.a}})]}),!tm&&(0,o.jsx)(eE.d,{items:tH,sections:tq,onToggleSubNav:tK}),tm&&(0,o.jsx)("div",{className:"tw-relative tw--top-px tw-ml-auto tw-flex tw-shrink-0 tw-items-center tw-gap-3",children:s})]}),(0,o.jsxs)("div",{className:(0,a.cn)("tw-grid tw-grid-cols-1",!B&&"tw-gap-x-6 lg:tw-grid-cols-[calc(theme('spacing.44')+theme('spacing.3'))_calc(100%-theme('spacing.44')-theme('spacing.3')-theme('spacing.6'))]"),children:[tm&&!B&&(0,o.jsx)("div",{className:"tw-col-span-1",children:(0,o.jsx)("div",{className:"tw-sticky tw-top-6 tw--ml-[calc(theme('spacing.3')+theme('spacing.1'))]",children:(0,o.jsx)(ex.m,{items:tH,sections:tq,onToggleSubNav:tK})})}),(0,o.jsx)("main",{className:"tw-col-span-1",id:"main",tabIndex:-1,"aria-label":"TEAM_SITES"===eQ?"Projects":eu.jA[eu.bw[eQ]],children:b})]})]}):(0,o.jsxs)(o.Fragment,{children:[!h&&!n&&!ei&&tm&&(0,o.jsxs)("div",{className:"tw-mb-4 tw-flex tw-items-baseline tw-gap-4 lg:tw--mt-2",children:["TEAM_SITES"===eQ&&(0,o.jsx)("h1",{className:"tw-relative tw-top-px tw-text-xl tw-font-semibold tw-text-gray-darker dark:tw-text-gray-lighter",children:"Projects"}),(0,o.jsx)("div",{className:"tw-ml-auto tw-flex tw-shrink-0 tw-items-center tw-gap-3 tw-pt-1.5",children:s})]}),(0,o.jsx)("main",{id:"main",tabIndex:-1,"aria-label":"TEAM_SITES"===eQ?"Projects":eu.jA[eu.bw[eQ]],children:b})]})]}),!h&&(0,o.jsx)(k.A,{})]})})]})]}),(0,o.jsx)(H,{history:e.history}),f&&p&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(E.A,{show:ts,currentAccount:f,hideTaskModal:function(){tf(!1),e6.replace(null==e_?void 0:e_.pathname)}}),(0,o.jsx)(A.A,{show:td,account:f,accounts:p,onHide:function(){return tg(!1)}})]})]}))})})})]})}))},77516:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(36870),o=n(86326),i=n(82432),a=n(18074),u=n(76711),c=n(53189);let l=(0,i.Ng)(function(e,t){var n=t.site;return{services:(0,a.Zo)(e,n)}},function(e,t){var n=t.site;return{onLoad:function(){return e((0,a.rZ)(n))},onCreate:function(t,r){return e((0,a.sR)(n,t,r))},onUpdate:function(t,r){return e((0,a.bU)(n,t,r))},onDelete:function(t){return e((0,a.hs)(n,t))},onGenerateToken:function(t,n){return e((0,a.HU)(t,n))}}})(function(e){var t=e.onLoad,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["onLoad"]),i=(0,c.ZT)().setIsLoadingApp;return(0,o.useEffect)(function(){t(),i(!1)},[]),(0,r.jsx)(u.A,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},n))})},77667:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(36870),o=n(86326),i=n(32825),a=n(53189);let u=function(e){var t,n,u=e.site,c=(0,a.ZT)().setIsLoadingApp;return(0,o.useEffect)(function(){c(!1)},[c]),(0,r.jsx)(i.A,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),n=n={usesEdgeFunctions:u.get("use_edge_functions")},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},79925:(e,t,n)=>{n.d(t,{A:()=>h});var r=n(36870),o=n(86326),i=n(56020),a=n(24204),u=n(65900),c=n(16983),l=n(70698),s=n(32981),f=n(33773),p=n(46585),d=n(53189),g=n(94958),y=n(27578);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,u=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(u)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}let h=function(e){var t,n=e.account,b=e.site,h=e.location,w=(0,y.wA)(),O=(0,d.ZT)().setIsLoadingApp,j=(0,y.d4)(function(e){return(0,i.C)(e,b)}),P=(0,y.d4)(function(e){return(0,i.dP)(e,b)}),S=(0,y.d4)(function(e){return(0,i.oC)(e,b)}),x=(0,y.d4)(function(e){return(0,u.Bu)(b)}),A=g.N.location.search,E=(0,o.useMemo)(function(){return new URLSearchParams(A)},[A]),k=E.get("branch"),N=E.get("function"),D=E.get("days"),I="status"===E.get("chart-type")?"status":"success",_=(0,y.d4)(function(e){var t;return(null==(t=(0,a.TO)(e,b,{filter:b.getIn(["build_settings","repo_branch"]),state:"ready"}))?void 0:t.toJS())||[]}),L=(0,y.d4)(function(e){var t;return(null==(t=(0,u.lp)(e,b))?void 0:t.toJS().filter(Boolean))||[]}),R=m((0,o.useState)(k||b.getIn(["build_settings","repo_branch"])),2),T=R[0],C=R[1],U=(0,y.d4)(function(e){return(0,i.Rv)(e,b,"branch:".concat(T))}),F=m((0,o.useState)(N||""),2),M=F[0],z=F[1],B=parseInt(D),V=(0,l.zi)(n.get("type_slug")).includes(B)?B:1,G=m((0,o.useState)(V),2),H=G[0],q=G[1],$=m((0,o.useState)(I||"success"),2),W=$[0],K=$[1];(0,o.useEffect)(function(){(k!==T||N!==M||Number(D)!==H||I!==W)&&g.N.push({pathname:h.pathname,search:new URLSearchParams({branch:T,function:M,days:String(H),"chart-type":W}).toString()})},[h.pathname,T,M,H,W]),(0,o.useEffect)(function(){"string"==typeof k&&k!==T&&C(k),"string"==typeof N&&N!==M&&z(N),"string"==typeof D&&Number(D)!==H&&q((0,l.zi)(n.get("type_slug")).includes(Number(D))?Number(D):1),I!==W&&K(I)},[k,N,D,I]);var Z=(0,o.useMemo)(function(){var e=1===H?"hour":"day";return{days:H,resolution:e,minusOffsetDays:0}},[H]),J=(0,o.useMemo)(function(){var e=1===H?"hour":"day";return(0,i.gR)(e,H,0).period},[H]),X=b.get("name"),Y=b.get("use_functions");return((0,o.useEffect)(function(){var e;(e=function(){return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(c){var l=[u,c];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,r=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}(this,function(e){switch(e.label){case 0:if(!Y)return[3,2];return[4,w((0,i.eJ)({siteName:X,branch:T,func:M,period:J,byStatus:"status"===W}))];case 1:e.sent(),e.label=2;case 2:return O(!1),[2]}})},function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){v(i,r,o,a,u,"next",e)}function u(e){v(i,r,o,a,u,"throw",e)}a(void 0)})})()},[T,M,w,O,Y,X,J,W]),Y)?(0,r.jsx)(c.A,{account:n,site:b,selectedPeriod:J,selectedTimeResolution:Z,selectedNumDay:H,branches:L,selectedBranch:T,setSelectedBranch:C,invocations:j.data,invocationsLoading:j.isFetching,chartType:W,handleChangeChartType:function(e){K(e)},selectedFunction:M,functionsInfoMap:U,onUpdateBranchFilter:function(e){C(e)},onUpdateFunctionsFilter:function(e){var t="";z(t=(void 0===e?"undefined":e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e)=="object"?e.value:e)},onUpdateTimeFilter:function(e){e&&"value"in e&&e.value&&q(e.value)},aggregates:P.data,aggregatesLoading:P.isFetching,summary:null==(t=S.data)?void 0:t[0],summaryLoading:S.isFetching,branchesLoading:x,deploys:_}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.A,{site:b}),(0,r.jsx)(p.A,{}),(0,r.jsx)(f.A,{})]})}},82060:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(36870),o=n(82432),i=n(17250),a=n(78028),u=n(68061);let c=(0,o.Ng)(function(e){return{account:e.account||(0,i.PR)(e),user:e.user,accounts:(0,i.N8)(e)}},function(e){return{onAuthenticate:function(t){return e((0,a.QF)(t))}}})(function(e){var t,n,o=e.match;return(0,r.jsx)(u.A,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),n=n={path:null==o?void 0:o.path},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))})},83315:(e,t,n)=>{n.d(t,{A:()=>j});var r,o=n(36870),i=n(43536),a=n(44110),u=n(86326),c=n(82432),l=n(17250),s=n(78028),f=n(59868),p=n(53181),d=n(65900),g=n(43917),y=n(3960),b=n(4140),v=n(94958);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){m(e,t,n[t])})}return e}function w(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}var O=(m(r={},b.zG.github_enterprise,!0),m(r,b.zG.gitlab_self_hosted,!0),r);let j=(0,c.Ng)(function(e,t){var n=(0,y.MC)(t),r=n.repo,o=n.name,i=(0,d.Gd)(e,o),u=i&&(0,l.N8)(e).find(function(e){return(null==e?void 0:e.get("slug"))===i.get("account_slug")}),c=u?(0,a.List)([u]):(0,l.N8)(e),g=c&&(0,l.PR)(e),b=u||g,v=decodeURIComponent(r),m=(0,f.pV)(e),h=(0,f.ZD)(e),w=(0,f.DI)(e),O=(0,s.a)(e),j=(0,s.o7)(e);return{repo:(0,p.bD)(e,v),provider:(0,s.oL)(e),site:i,accounts:c,account:b,availablePlugins:m,availablePluginsError:h,availablePluginsFetching:w,gitUser:O,gitAccessToken:j}},function(e,t){var n=t.site,r=t.provider,o=t.onError,a=t.isCreatingANewSite,u=t.onSiteDeploy;return{onLoadPlugins:function(){return e((0,f.ND)())},onPrepareRepo:function(t){var n;return null==(n=e((0,p.Uy)(t)))?void 0:n.then(function(){e((0,p.W0)(t))})},loadMoreBranches:function(t,n){return e((0,p.wh)(t,n))},onApplyHeuristics:function(t,n,o){t&&e((0,p.oY)(t,n,w(h({},o),{provider:r})))},onAnalyzeRepoAppAccessForVisualEditing:function(t){var n=t.repoName,r=t.repoUrl,o=t.branch,i=t.runnableDir,a=t.gitAccessToken;return e((0,p.aU)({repoName:n,repoUrl:r,branch:o,runnableDir:i,gitAccessToken:a}))},onAnalyzeRepoContentForVisualEditing:function(t){var n=t.repoName,r=t.repoUrl,o=t.branch,i=t.runnableDir,a=t.gitAccessToken;return e((0,p.V4)({repoName:n,repoUrl:r,branch:o,runnableDir:i,gitAccessToken:a}))},onSubmit:function(t,r){return e((0,d.pL)({site:a?null:n,repo:r,settings:t.toJS(),createdVia:""})).then(function(e){var t=e.site;if(u&&"function"==typeof u)return void u(t);v.N.push((0,i.l2)(t))}).catch(function(e){return o(e,{restart:401===e.code})})}}})(function(e){var t=e.entryPoint,n=e.repo,r=e.onPrepareRepo,i=e.onMissingData,a=e.onError,c=e.loadMoreBranches,l=e.site,s=e.account,f=e.accounts,p=e.onSubmit,d=e.onApplyHeuristics,y=e.provider,v=e.outset,m=e.availablePlugins,j=e.availablePluginsError,P=e.availablePluginsFetching,S=e.onLoadPlugins,x=e.user,A=e.gitUser,E=e.match,k=e.isOnStartPage,N=e.setFormData,D=e.onAnalyzeRepoContentForVisualEditing,I=e.onAnalyzeRepoAppAccessForVisualEditing,_=e.gitAccessToken,L=e.envVars,R=e.showSiteName,T=null==n?void 0:n.getIn(["branchPagination","next"]),C=null==n?void 0:n.get("error");return(0,u.useEffect)(function(){P||j||(null==m?void 0:m.size)||S()},[m,j,P]),(0,u.useEffect)(function(){n?r(n):i("repo")},[]),(0,u.useEffect)(function(){C&&(a(C),i("repo"))},[C]),(0,u.useEffect)(function(){y!==b.zG.bitbucket&&T&&c(n,T)},[y,T]),n?(0,o.jsx)(g.A,{showSiteName:R,envVars:L,entryPoint:t,user:x,gitUser:A,site:l,account:s,accounts:f,repo:n,onSubmit:p,outset:v,onApplyHeuristics:d,accountSpecificGitProvider:O[y],availablePlugins:m,availablePluginsError:j,match:E,isOnStartPage:k,setFormData:N,provider:y,onAnalyzeRepoAppAccessForVisualEditing:function(e){return I(h({},e,!y.includes("github")&&{gitAccessToken:_}))},onAnalyzeRepoContentForVisualEditing:function(e){return D(w(h({},e),{gitAccessToken:_}))}}):null})},94312:(e,t,n)=>{n.d(t,{A:()=>h});var r=n(36870),o=n(86326),i=n(56020),a=n(24204),u=n(65900),c=n(57830),l=n(70698),s=n(84423),f=n(33773),p=n(46585),d=n(53189),g=n(94958),y=n(27578);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,u=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(u)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}let h=function(e){var t,n=e.account,b=e.site,h=e.location,w=(0,y.wA)(),O=(0,d.ZT)().setIsLoadingApp,j=(0,y.d4)(function(e){return(0,i.fg)(e,b)}),P=(0,y.d4)(function(e){return(0,i.os)(e,b)}),S=(0,y.d4)(function(e){return(0,i.xx)(e,b)}),x=(0,y.d4)(function(e){return(0,u.Bu)(b)}),A=g.N.location.search,E=(0,o.useMemo)(function(){return new URLSearchParams(A)},[A]),k=E.get("branch"),N=E.get("function"),D=E.get("days"),I=(0,y.d4)(function(e){var t;return(null==(t=(0,a.TO)(e,b,{filter:b.getIn(["build_settings","repo_branch"]),state:"ready"}))?void 0:t.toJS())||[]}),_=(0,y.d4)(function(e){var t;return(null==(t=(0,u.lp)(e,b))?void 0:t.toJS().filter(Boolean))||[]}),L=m((0,o.useState)(k||b.getIn(["build_settings","repo_branch"])),2),R=L[0],T=L[1],C=(0,y.d4)(function(e){return(0,i.YP)(e,b)}),U=m((0,o.useState)(N||""),2),F=U[0],M=U[1],z=parseInt(D),B=(0,l.zi)(n.get("type_slug")).includes(z)?z:1,V=m((0,o.useState)(B),2),G=V[0],H=V[1];(0,o.useEffect)(function(){(k!==R||N!==F||Number(D)!==G)&&g.N.push({pathname:h.pathname,search:new URLSearchParams({branch:R,function:F,days:String(G)}).toString()})},[h.pathname,R,F,G]),(0,o.useEffect)(function(){"string"==typeof k&&k!==R&&T(k),"string"==typeof N&&N!==F&&M(N),"string"==typeof D&&Number(D)!==G&&H((0,l.zi)(n.get("type_slug")).includes(Number(D))?Number(D):1)},[k,N,D]);var q=(0,o.useMemo)(function(){var e=1===G?"hour":"day";return{days:G,resolution:e,minusOffsetDays:0}},[G]),$=(0,o.useMemo)(function(){var e=1===G?"hour":"day";return(0,i.gR)(e,G,0).period},[G]),W=b.get("name"),K=b.get("use_edge_functions");return((0,o.useEffect)(function(){var e;(e=function(){return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(c){var l=[u,c];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,r=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){i=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){i.label=l[1];break}if(6===l[0]&&i.label<o[1]){i.label=o[1],o=l;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(l);break}o[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}(this,function(e){switch(e.label){case 0:if(!K)return[3,2];return[4,w((0,i.N1)({siteName:W,branch:R,func:F,period:$}))];case 1:e.sent(),e.label=2;case 2:return O(!1),[2]}})},function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){v(i,r,o,a,u,"next",e)}function u(e){v(i,r,o,a,u,"throw",e)}a(void 0)})})()},[R,F,w,O,K,W,$]),K)?(0,r.jsx)(c.A,{account:n,site:b,selectedPeriod:$,selectedTimeResolution:q,selectedNumDay:G,branches:_,selectedBranch:R,setSelectedBranch:T,invocations:j.data,invocationsLoading:j.isFetching,selectedFunction:F,functionsInfoMap:C,onUpdateBranchFilter:function(e){T(e)},onUpdateFunctionsFilter:function(e){var t="";M(t=(void 0===e?"undefined":e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e)=="object"?e.value:e)},onUpdateTimeFilter:function(e){e&&"value"in e&&e.value&&H(e.value)},aggregates:P.data,aggregatesLoading:P.isFetching,summary:null==(t=S.data)?void 0:t[0],summaryLoading:S.isFetching,branchesLoading:x,deploys:I}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.A,{site:b}),(0,r.jsx)(p.A,{}),(0,r.jsx)(f.A,{})]})}},96850:(e,t,n)=>{n.d(t,{A:()=>b});var r=n(36870),o=n(86326),i=n(82432),a=n(17250),u=n(78028),c=n(5698),l=n(53181),s=n(31024),f=n(3960),p=n(4140),d=n(94958);function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function y(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}let b=(0,i.Ng)(function(e,t){var n,r,o=(0,f.MC)(t).organization,i=(0,f.Zq)(null==t||null==(n=t.location)?void 0:n.search),s=e.account||(0,a.PR)(e),d=(0,u.a)(e),g=(0,c.I3)(e,o),y=(0,c.X1)(e),b=(0,u.oL)(e),v=p.Sc.get(b),m=null==v?void 0:v.get("hideGitUserFromRepoList"),h=o||m&&(null==y||null==(r=y.first())?void 0:r.get("api_id")),w=g||d&&d.get("login")===o&&d,O=w&&w.get("installation_id");return{account:s,page:Number(null==i?void 0:i.page)||1,provider:(0,u.oL)(e),installationId:O,gitUser:d,organization:h,organizations:y,hideGitUser:m,searchTerm:(0,u.v0)(e),repos:(0,l.i9)(e,h),pagination:(0,l.Dz)(e,h)}},function(e){return{loadRepos:function(t){return e((0,l.S5)(t))},loadGitUser:function(){return e((0,u.wj)())},loadGitOrganizations:function(){return e((0,c.N6)())},setSearchTerm:function(t){return e((0,u.NM)(t))}}})(function(e){var t=e.provider,n=e.organization,i=e.page,a=e.per_page,u=e.installationId,c=e.onError,l=e.onMissingData,f=e.loadRepos,p=e.loadGitUser,b=e.loadGitOrganizations,v=e.path,m=e.setSearchTerm,h=e.hideGitUser;(0,o.useEffect)(function(){t?w():l("provider")},[]),(0,o.useEffect)(function(){t&&(!h||n)&&f({organization:n,page:i,per_page:a,installationId:u}).catch(function(e){c(e,{restart:401===e.code})})},[t,i,n,f]);var w=function(){Promise.resolve(p()).then(function(){h||f({organization:n,page:i,per_page:a,installationId:u}),b()})};return t?(0,r.jsx)(s.A,y(g({},e),{onSearch:function(){return f(y(g({},{organization:n,page:i,per_page:a,installationId:u}),{page:1})).catch(function(e){c(e,{restart:401===e.code})})},onTerm:function(e){return m(e)},onAppInstall:function(e){var t=e.login;b(),t&&t!==n?d.N.push("".concat(v,"/").concat(t,"/repos")):f({organization:n,page:i,per_page:a,installationId:u})}})):null})}}]);